<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Magmodules.eu. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="channable_orders">
        <column name="entity_id"
                xsi:type="bigint"
                padding="20"
                identity="true"
                nullable="false"
                unsigned="true"
                comment="Entity ID"/>
        <column name="channable_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Channable ID"/>
        <column name="channel_name"
                xsi:type="varchar"
                length="255"
                comment="Channel Name"/>
        <column name="order_status"
                xsi:type="varchar"
                length="255"
                comment="Order Status"/>
        <column name="channel_label"
                xsi:type="varchar"
                length="255"
                comment="Channel Label"/>
        <column name="channel_id"
                xsi:type="varchar"
                length="255"
                comment="Channel ID"/>
        <column name="channable_order_status"
                xsi:type="varchar"
                length="255"
                comment="Channable Order ID"/>
        <column xsi:type="smallint"
                name="is_test"
                padding="2"
                unsigned="true"
                nullable="false"
                identity="false"
                comment="Is Test"/>
        <column name="products"
                xsi:type="text"
                comment="Products Info"/>
        <column name="customer"
                xsi:type="text"
                comment="Customer Info"/>
        <column name="billing"
                xsi:type="text"
                comment="Billing Info"/>
        <column name="shipping"
                xsi:type="text"
                comment="Shipping Info"/>
        <column name="price"
                xsi:type="text"
                comment="Price Info"/>
        <column name="magento_order_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Magento Order ID"/>
        <column name="magento_increment_id"
                xsi:type="varchar"
                length="50"
                comment="Magento Increment ID"/>
        <column xsi:type="smallint"
                name="store_id"
                padding="5"
                unsigned="true"
                nullable="false"
                identity="false"
                comment="Store ID"/>
        <column name="status"
                xsi:type="varchar"
                length="20"
                comment="Status"/>
        <column name="error_msg"
                xsi:type="varchar"
                length="255"
                comment="Error Message"/>
        <column name="created_at"
                xsi:type="timestamp"
                on_update="false"
                default="CURRENT_TIMESTAMP"
                comment="Created At"/>
        <column name="updated_at"
                xsi:type="timestamp"
                on_update="true"
                default="CURRENT_TIMESTAMP"
                comment="Updated At"/>
        <column name="attempts"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Attempts"/>
        <index referenceId="CHANNABLE_ORDERS_FULLTEXT" indexType="fulltext">
            <column name="customer"/>
            <column name="channel_name"/>
            <column name="channel_id"/>
            <column name="products"/>
            <column name="billing"/>
            <column name="shipping"/>
            <column name="magento_increment_id"/>
        </index>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="entity_id"/>
        </constraint>
    </table>

    <table name="channable_items">
        <column name="item_id"
                xsi:type="bigint"
                padding="20"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Entity ID"/>
        <column name="store_id"
                xsi:type="smallint"
                padding="5"
                nullable="true"
                unsigned="true"
                identity="false"
                default="0"
                comment="Store ID"/>
        <column name="id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="ID"/>
        <column name="parent_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                default="0"
                comment="Parent ID"/>
        <column name="gtin"
                xsi:type="varchar"
                length="255"
                comment="GTIN"/>
        <column name="title"
                xsi:type="varchar"
                length="255"
                comment="Item Title"/>
        <column name="price"
                xsi:type="decimal"
                precision="20"
                scale="4"
                nullable="true"
                comment="Price"/>
        <column name="discount_price"
                xsi:type="decimal"
                precision="20"
                scale="4"
                nullable="true"
                comment="Discount Price"/>
        <column name="qty"
                xsi:type="decimal"
                precision="20"
                scale="4"
                nullable="true"
                comment="Quantity"/>
        <column name="is_in_stock"
                xsi:type="smallint"
                padding="2"
                nullable="true"
                unsigned="true"
                identity="false"
                default="0"
                comment="Is In Stock"/>
        <column name="call_result"
                xsi:type="varchar"
                length="255"
                comment="Call Result"/>
        <column name="status"
                xsi:type="varchar"
                length="255"
                comment="Status"/>
        <column name="needs_update"
                xsi:type="smallint"
                padding="2"
                nullable="true"
                unsigned="true"
                identity="false"
                default="0"
                comment="Needs Update"/>
        <column name="created_at"
                xsi:type="timestamp"
                on_update="false"
                default="CURRENT_TIMESTAMP"
                comment="Created At"/>
        <column name="updated_at"
                xsi:type="timestamp"
                on_update="true"
                default="CURRENT_TIMESTAMP"
                comment="Updated At"/>
        <column name="last_call"
                xsi:type="timestamp"
                on_update="false"
                comment="Updated At"/>
        <index referenceId="CHANNABLE_ITEMS" indexType="btree">
            <column name="store_id"/>
            <column name="id"/>
            <column name="needs_update"/>
            <column name="updated_at"/>
        </index>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="item_id"/>
        </constraint>
    </table>

    <table name="channable_returns">
        <column name="id"
                xsi:type="bigint"
                padding="20"
                identity="true"
                nullable="false"
                unsigned="true"
                comment="Entity ID"/>
        <column name="store_id"
                xsi:type="smallint"
                padding="5"
                nullable="true"
                unsigned="true"
                identity="false"
                default="0"
                comment="Store ID"/>
        <column name="order_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Order ID"/>
        <column name="channel_name"
                xsi:type="varchar"
                length="255"
                comment="Channel Name"/>
        <column name="channel_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Channel ID"/>
        <column name="channable_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Channable ID"/>
        <column name="magento_order_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="false"
                unsigned="true"
                comment="Magento Order ID"/>
        <column name="magento_increment_id"
                xsi:type="varchar"
                length="255"
                comment="Magento Increment Id"/>
        <column name="item"
                xsi:type="text"
                comment="Item Info"/>
        <column name="customer_name"
                xsi:type="varchar"
                length="255"
                comment="Customer Name"/>
        <column name="customer"
                xsi:type="text"
                comment="Customer Info"/>
        <column name="address"
                xsi:type="text"
                comment="Address Info"/>
        <column name="reason"
                xsi:type="varchar"
                length="255"
                comment="Reason"/>
        <column name="comment"
                xsi:type="varchar"
                length="255"
                comment="Comment"/>
        <column name="status"
                xsi:type="varchar"
                length="255"
                comment="Status"/>
        <column name="created_at"
                xsi:type="timestamp"
                on_update="false"
                default="CURRENT_TIMESTAMP"
                comment="Created At"/>
        <column name="updated_at"
                xsi:type="timestamp"
                on_update="true"
                default="CURRENT_TIMESTAMP"
                comment="Updated At"/>
        <index referenceId="CHANNABLE_RETURNS" indexType="btree">
            <column name="store_id"/>
            <column name="order_id"/>
            <column name="magento_order_id"/>
            <column name="magento_increment_id"/>
            <column name="created_at"/>
            <column name="status"/>
        </index>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id"/>
        </constraint>
    </table>

    <table name="quote">
        <column name="transaction_fee"
                xsi:type="float"
                unsigned="true"
                nullable="false"
                comment="Transaction Fee"/>
    </table>

    <table name="sales_order_grid">
        <column name="channable_id"
                xsi:type="int"
                padding="10"
                identity="false"
                nullable="true"
                unsigned="true"
                comment="Channable: Order ID"/>
        <column name="channel_id"
                xsi:type="varchar"
                length="255"
                comment="Channable: Channel ID"/>
        <column name="channel_name"
                xsi:type="varchar"
                length="255"
                comment="Channable: Channel Name"/>
        <column name="channel_label"
                xsi:type="varchar"
                length="255"
                comment="Channable: Channel Label"/>
    </table>

</schema>

